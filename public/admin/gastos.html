<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5Q94FLN3');</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gastos - Admin COPYFAST&PRINT</title>
    <meta name="description" content="Panel de administración para el registro y consulta de gastos operativos.">
    
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
    <link rel="manifest" href="/favicons/manifest.json">

    <!-- CSS y Font Awesome -->
    <link rel="stylesheet" href="/admin/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5Q94FLN3" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <!-- Contenedor principal del panel de administración -->
    <div class="admin-grid-container">

        <!-- Barra lateral de navegación -->
        <aside class="admin-sidebar">
            <div class="sidebar-header">
                <h3>COPY<span>FAST&</span>PRINT</h3>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="admin.html"><i class="fas fa-tachometer-alt fa-fw"></i> Dashboard</a></li>
                    <li><a href="ventas.html"><i class="fas fa-dollar-sign fa-fw"></i> Ventas</a></li>
                    <li class="active"><a href="gastos.html"><i class="fas fa-file-invoice-dollar fa-fw"></i> Gastos</a></li>
                    <li><a href="clientes.html"><i class="fas fa-users fa-fw"></i> Clientes</a></li>
                    <li><a href="inventario.html"><i class="fas fa-box-open fa-fw"></i> Inventario</a></li>
                    <li><a href="reportes.html"><i class="fas fa-chart-line fa-fw"></i> Reportes</a></li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <button id="btnCerrarSesion" class="logout-btn"><i class="fas fa-sign-out-alt fa-fw"></i> Cerrar Sesión</button>
            </div>
        </aside>

        <!-- Contenido principal -->
        <main class="admin-main-content">
            <!-- ENCABEZADO DE SECCIÓN CORREGIDO -->
            <div class="section-heading">
                <h2>Gastos</h2>
                <div class="divider"></div>
                <p>Gestiona, registra y consulta el historial de gastos operativos.</p>
            </div>

            <!-- Formulario y columna de información -->
            <div class="form-layout">
                
                <!-- Columna del formulario -->
                <div class="form-container">
                    <form id="registro-gastos-form">
                        <div class="form-group full-width">
                            <h3 class="form-section-title">Registrar Nuevo Gasto</h3>
                        </div>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="fecha">Fecha del Gasto *</label>
                                <input type="date" id="fecha" name="fecha" required>
                            </div>
                            <div class="form-group">
                                <label for="proveedor">Nombre del Proveedor *</label>
                                <input type="text" id="proveedor" name="proveedor" required>
                            </div>
                            <div class="form-group">
                                <label for="rit">RIF / Cédula</label>
                                <input type="text" id="rit" name="rit">
                            </div>
                             <div class="form-group">
                                <label for="monto">Monto Total (Bs.) *</label>
                                <input type="number" id="monto" name="monto" step="0.01" min="0.01" required>
                            </div>
                            <div class="form-group full-width">
                                <label for="descripcion">Descripción del Gasto *</label>
                                <textarea id="descripcion" name="descripcion" rows="3" required></textarea>
                            </div>
                            <div class="form-group">
                                <label for="categoria">Categoría *</label>
                                <select id="categoria" name="categoria" required>
                                    <option value="">Selecciona una categoría</option>
                                    <option value="Servicios Publicos">Servicios Públicos (Agua, Luz, Teléfono)</option>
                                    <option value="Materiales y Suministros">Materiales y Suministros</option>
                                    <option value="Alquiler">Alquiler</option>
                                    <option value="Salarios">Salarios</option>
                                    <option value="Mantenimiento y Reparaciones">Mantenimiento y Reparaciones</option>
                                    <option value="Marketing y Publicidad">Marketing y Publicidad</option>
                                    <option value="Transporte">Transporte</option>
                                    <option value="Impuestos">Impuestos</option>
                                    <option value="Otro">Otro</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="metodo_pago">Método de Pago *</label>
                                <select id="metodo_pago" name="metodo_pago" required>
                                    <option value="">Selecciona uno</option>
                                    <option value="Efectivo">Efectivo</option>
                                    <option value="Transferencia">Transferencia</option>
                                    <option value="Pago-Movil">Pago Móvil</option>
                                    <option value="Zelle">Zelle</option>
                                    <option value="Otro">Otro</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-submit"><i class="fas fa-save"></i> Registrar Gasto</button>
                        </div>
                    </form>
                </div>

                <!-- Columna de información -->
                <aside class="form-sidebar">
                    <div class="info-box">
                        <h3><i class="fas fa-clipboard-check"></i> Control Financiero</h3>
                        <p>Registrar cada gasto es fundamental para mantener un control preciso de la salud financiera del negocio.</p>
                    </div>
                    <div class="info-box">
                        <h3><i class="fas fa-info-circle"></i> ¿Qué es RIF?</h3>
                        <p>Es el Registro de Información Fiscal, el número de identificación tributaria en Venezuela. Puedes dejarlo en blanco si no aplica.</p>
                    </div>
                </aside>

            </div>
        </main>

    </div>

    <!-- Overlay de carga -->
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
      <div class="spinner"></div>
      <p>Procesando...</p>
    </div>

    <!-- Scripts -->
    <script src="/admin/js/auth.js"></script>
    <script src="/admin/js/registro-gastos.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            setupAuth();
        });
    </script>

</body>
</html>
