
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Solicitar CotizaciÃ³n - Copy Fast & Print</title>
    <link
      rel="icon"
      type="image/png"
      sizes="96x96"
      href="/favicons/favicon-96x96.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/favicons/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/favicons/favicon-16x16.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="/favicons/android-icon-192x192.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="57x57"
      href="/favicons/apple-icon-57x57.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="60x60"
      href="/favicons/apple-icon-60x60.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="/favicons/apple-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="/favicons/apple-icon-76x76.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="/favicons/apple-icon-114x114.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="120x120"
      href="/favicons/apple-icon-120x120.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="144x144"
      href="/favicons/apple-icon-144x144.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="/favicons/apple-icon-152x152.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/favicons/apple-icon-180x180.png"
    />
    <link rel="manifest" href="/favicons/manifest.json" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta
      name="msapplication-TileImage"
      content="/favicons/ms-icon-144x144.png"
    />
    <meta name="theme-color" content="#ffffff" />

    <link rel="stylesheet" href="/css/main.css" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v6.1.1/css/all.css"
    />
  </head>
  <body>
    <header>
      <nav class="navbar">
        <div class="brand">
          <h2>COPY<span>FAST&</span>PRINT</h2>
        </div>
        <ul class="menu" id="menu">
          <li><a href="index.html">Inicio</a></li>
          <li><a href="diseÃ±o.html">DiseÃ±os</a></li>
          <li><a href="acercade.html">Acerca de</a></li>
          <li><a href="formulario.html" class="active">CotizaciÃ³n</a></li>
          <li><a href="especificaciones.html">Â¿Como Funciona?</a></li>
        </ul>
        <div class="toggle_menu">
          <i class="fas fa-bars" id="toggle_open"></i>
          <i class="fas fa-times" id="toggle_close"></i>
        </div>
      </nav>
    </header>

    <main>
      <section class="section-heading">
        <h2>Solicita tu <span>CotizaciÃ³n</span></h2>
        <div class="divider"></div>
        <p>
          Completa el formulario y nos pondremos en contacto dentro de 24 horas
        </p>
      </section>

      <div class="form-container">
        <div class="form-wrapper">
          <form id="cotizacion-form" class="cotizacion-form" novalidate>
            <input type="hidden" name="form-name" value="cotizacion" />
            <p style="display: none">
              <label
                >No llenes esto si eres humano: <input name="bot-field"
              /></label>
            </p>

            <fieldset class="form-section">
              <legend>Tu InformaciÃ³n</legend>

              <div class="form-group">
                <label for="nombre">Nombre Completo *</label>
                <input
                  type="text"
                  id="nombre"
                  name="nombre"
                  placeholder="Juan PÃ©rez"
                  required
                />
              </div>

              <div class="form-group">
                <label for="email">Email *</label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder="correo@ejemplo.com"
                  required
                />
              </div>

              <div class="form-group">
                <label for="telefono">TelÃ©fono / WhatsApp *</label>
                <input
                  type="tel"
                  id="telefono"
                  name="telefono"
                  placeholder="+58 422 013 5069"
                  required
                />
              </div>

              <div class="form-group">
                <label for="empresa">Empresa / Emprendimiento (Opcional)</label>
                <input
                  type="text"
                  id="empresa"
                  name="empresa"
                  placeholder="Mi Negocio SAS"
                />
              </div>
            </fieldset>

            <fieldset class="form-section">
              <legend>Tipo de Servicio</legend>

              <div class="form-group radio-group">
                <label class="radio-label">
                  <input type="radio" name="servicio" value="dtf" required />
                  <span class="radio-custom">
                    <i class="fas fa-circle"></i>
                  </span>
                  DTF (Direct-to-Film)
                </label>
                <p class="option-desc">
                  Ideal para camisetas de color, diseÃ±os detallados
                </p>
              </div>

              <div class="form-group radio-group">
                <label class="radio-label">
                  <input
                    type="radio"
                    name="servicio"
                    value="sublimacion"
                    required
                  />
                  <span class="radio-custom">
                    <i class="fas fa-circle"></i>
                  </span>
                  SublimaciÃ³n
                </label>
                <p class="option-desc">
                  Ideal para tazas, mousepads, fotos, diseÃ±os vibrantes
                </p>
              </div>

              <div class="form-group radio-group">
                <label class="radio-label">
                  <input type="radio" name="servicio" value="ambos" required />
                  <span class="radio-custom">
                    <i class="fas fa-circle"></i>
                  </span>
                  Ambos servicios
                </label>
                <p class="option-desc">
                  AÃºn no sÃ© cuÃ¡l es mejor para mi proyecto
                </p>
              </div>
            </fieldset>

            <fieldset class="form-section">
              <legend>Detalles del Proyecto</legend>

              <div class="form-group" id="prendasDTF" style="display: none">
                <label for="prendaDTF">Â¿QuÃ© prenda deseas?</label>
                <select id="prendaDTF" name="prendaDTF">
                  <option value="">-- Selecciona una opciÃ³n --</option>
                  <option value="camiseta">Camiseta</option>
                  <option value="sudadera">Sudadera</option>
                  <option value="gorra">Gorra</option>
                  <option value="otra">Otra prenda</option>
                </select>
              </div>

              <div
                class="form-group"
                id="prendasSublimacion"
                style="display: none"
              >
                <label for="prendaSublimacion">Â¿QuÃ© producto deseas?</label>
                <select id="prendaSublimacion" name="prendaSublimacion">
                  <option value="">-- Selecciona una opciÃ³n --</option>
                  <option value="taza">Taza</option>
                  <option value="mousepad">Mousepad</option>
                  <option value="cojin">CojÃ­n</option>
                  <option value="camiseta-blanca">Camiseta Blanca</option>
                  <option value="otro">Otro producto</option>
                </select>
              </div>

              <div class="form-group">
                <label for="cantidad">Cantidad de Unidades *</label>
                <input
                  type="number"
                  id="cantidad"
                  name="cantidad"
                  placeholder="1"
                  min="1"
                  required
                />
                <p class="hint">Ingresa la cantidad total que necesitas</p>
              </div>

              <div class="form-group">
                <label for="descripcion">DescripciÃ³n del Proyecto *</label>
                <textarea
                  id="descripcion"
                  name="descripcion"
                  placeholder="Describe tu proyecto, ideas, colores, etc."
                  rows="4"
                  required
                ></textarea>
              </div>

              <div class="form-group">
                <label for="archivo">Adjunta tu diseÃ±o (Opcional)</label>
                <input
                  type="file"
                  id="archivo"
                  name="archivo"
                  accept=".png,.jpg,.jpeg,.pdf"
                />
                <p class="hint">PNG, JPG, PDF (MÃ¡x. 10MB)</p>
              </div>
            </fieldset>

            <fieldset class="form-section">
              <legend>Presupuesto Estimado</legend>

              <div class="form-group">
                <label for="presupuesto"
                  >Â¿CuÃ¡l es tu rango de presupuesto? *</label
                >
                <select id="presupuesto" name="presupuesto" required>
                  <option value="">-- Selecciona un rango --</option>
                  <option value="menor-50k">Menor a $50.000</option>
                  <option value="50k-100k">$50.000 - $100.000</option>
                  <option value="100k-250k">$100.000 - $250.000</option>
                  <option value="250k-500k">$250.000 - $500.000</option>
                  <option value="mayor-500k">Mayor a $500.000</option>
                  <option value="no-se">No sÃ©, asesoradme</option>
                </select>
              </div>

              <div class="form-group">
                <label for="fechaRequerida">Â¿Para cuÃ¡ndo lo necesitas? *</label>
                <input
                  type="date"
                  id="fechaRequerida"
                  name="fechaRequerida"
                  required
                />
              </div>
            </fieldset>

            <fieldset class="form-section">
              <legend>InformaciÃ³n Adicional</legend>

              <div class="form-group">
                <label for="mensaje">Â¿Hay algo mÃ¡s que debamos saber?</label>
                <textarea
                  id="mensaje"
                  name="mensaje"
                  placeholder="Especificaciones adicionales, preferencias, etc."
                  rows="3"
                ></textarea>
              </div>

              <div class="form-group checkbox-group">
                <label class="checkbox-label">
                  <input
                    type="checkbox"
                    name="terminos"
                    value="aceptado"
                    required
                  />
                  <span class="checkbox-custom">
                    <i class="fas fa-check"></i>
                  </span>
                  Acepto los tÃ©rminos y condiciones
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" name="newsletter" value="si" />
                  <span class="checkbox-custom">
                    <i class="fas fa-check"></i>
                  </span>
                  Deseo recibir ofertas y novedades
                </label>
              </div>
            </fieldset>

            <div class="form-actions">
              <button type="submit" class="btn-submit">
                <i class="fas fa-paper-plane"></i> Enviar CotizaciÃ³n
              </button>
              <button type="reset" class="btn-reset">
                <i class="fas fa-redo"></i> Limpiar Formulario
              </button>
            </div>
          </form>
        </div>

        <div class="form-sidebar">
          <div class="info-box">
            <h3><i class="fas fa-clock"></i> Tiempo de Respuesta</h3>
            <p>Nos comprometemos a responder dentro de 24 horas</p>
          </div>

          <div class="info-box">
            <h3><i class="fas fa-headset"></i> Soporte</h3>
            <p>Â¿Dudas? ContÃ¡ctanos por WhatsApp</p>
            <a
              href="https://wa.me/584220135069"
              class="btn-small"
              target="_blank"
            >
              Chatear
            </a>
          </div>
          <div class="currency-calculator">
            <div class="calculator-header">
              <i class="fas fa-calculator"></i>
              <h3>Calculadora de Divisas</h3>
              <button
                class="refresh-btn"
                id="refreshRates"
                title="Actualizar tasas"
              >
                <i class="fas fa-sync-alt"></i>
              </button>
            </div>

            <div class="calculator-body">
              <div class="currency-input-group">
                <label>Cantidad</label>
                <input
                  type="number"
                  id="amount"
                  placeholder="Ingresa cantidad"
                  value="100000"
                  min="0"
                  step="1000"
                />
              </div>

              <div class="currency-select-group">
                <div class="currency-from">
                  <label>De</label>
                  <select id="fromCurrency">
                    <option value="COP" selected>
                      ðŸ‡¨ðŸ‡´ COP - Peso Colombiano
                    </option>
                    <option value="VES">ðŸ‡»ðŸ‡ª VES - BolÃ­var Venezolano</option>
                    <option value="USD">ðŸ‡ºðŸ‡¸ USD - DÃ³lar</option>
                    <option value="EUR">ðŸ‡ªðŸ‡º EUR - Euro</option>
                  </select>
                </div>

                <button
                  class="swap-btn"
                  id="swapBtn"
                  title="Intercambiar monedas"
                >
                  <i class="fas fa-exchange-alt"></i>
                </button>

                <div class="currency-to">
                  <label>A</label>
                  <select id="toCurrency">
                    <option value="COP">ðŸ‡¨ðŸ‡´ COP - Peso Colombiano</option>
                    <option value="VES">ðŸ‡»ðŸ‡ª VES - BolÃ­var Venezolano</option>
                    <option value="USD" selected>ðŸ‡ºðŸ‡¸ USD - DÃ³lar</option>
                    <option value="EUR">ðŸ‡ªðŸ‡º EUR - Euro</option>
                  </select>
                </div>
              </div>

              <div class="result-display">
                <div class="result-amount" id="resultAmount">$0.00</div>
                <div class="exchange-rate" id="exchangeRate">
                  Cargando tasas...
                </div>
                <div class="last-update" id="lastUpdate"></div>
              </div>

              <button class="calculate-btn" id="calculateBtn">
                <i class="fas fa-calculator"></i> Calcular
              </button>

              <div class="info-note">
                <i class="fas fa-info-circle"></i>
                <p>Tasas actualizadas en tiempo real vÃ­a FastForex API</p>
              </div>

              <div
                class="loading-overlay"
                id="loadingOverlay"
                style="display: none"
              >
                <div class="spinner"></div>
                <p>Actualizando tasas...</p>
              </div>
            </div>
          </div>
          <div class="info-box">
            <h3><i class="fas fa-lightbulb"></i> Consejos</h3>
            <ul class="tips-list">
              <li>Ten clara tu idea antes de enviar</li>
              <li>Adjunta referencias o imÃ¡genes</li>
              <li>Especifica cantidad exacta</li>
              <li>Indica tu presupuesto aproximado</li>
            </ul>
          </div>

          <div class="info-box highlight">
            <h3><i class="fas fa-question-circle"></i> Â¿No sÃ© quÃ© elegir?</h3>
            <p>
              Visita nuestra pÃ¡gina "Â¿CÃ³mo Funciona?" para conocer las
              diferencias entre DTF y SublimaciÃ³n
            </p>
            <a href="especificaciones.html" class="btn-small">Saber mÃ¡s</a>
          </div>
        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="footer-content">
        <h2>COPY<span>FAST&</span>PRINT</h2>
        <h5>Tu SoluciÃ³n Integral en ImpresiÃ³n y PersonalizaciÃ³n</h5>
      </div>
      <div class="social-networks">
        <a href="https://www.instagram.com/copyfastprint/" target="_blank"
          ><i class="fab fa-instagram"></i
        ></a>
        <a
          href="https://www.facebook.com/profile.php?id=61578120201237"
          target="_blank"
          ><i class="fab fa-facebook"></i
        ></a>
        <a href="https://co.pinterest.com/copyfastprint/" target="_blank"
          ><i class="fab fa-pinterest"></i
        ></a>
        <a href="https://www.tiktok.com/@copyfastprint" target="_blank"
          ><i class="fab fa-tiktok"></i
        ></a>
      </div>
    </footer>
    <a href="#" id="scroll-to-top" class="scroll-to-top">
      <i class="fas fa-chevron-up"></i>
    </a>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // --- URL DE LA API UNIFICADA ---
        const googleScriptURL =
          "https://script.google.com/macros/s/AKfycbwqkpIrmwD4SDeOda5ttFAqM_MPrlnqX_Ij6l51iGH88313xNoYpI4lQzsNou20-1MY/exec";

        // ==========================================================================
        // ===  MANEJO DEL FORMULARIO DE COTIZACIÃ“N  ===
        // ==========================================================================
        const form = document.getElementById("cotizacion-form");
        if (form) {
          form.addEventListener("submit", function (e) {
            e.preventDefault();
            const submitButton = form.querySelector('button[type="submit"]');
            const originalButtonText = submitButton.innerHTML;
            submitButton.disabled = true;
            submitButton.innerHTML =
              '<i class="fas fa-spinner fa-spin"></i> Enviando...';

            const formData = new FormData(form);
            const data = { action: "submitQuote" };
            for (let [key, value] of formData.entries()) {
              data[key] = value;
            }

            fetch(googleScriptURL, {
              method: "POST",
              mode: "no-cors",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(data),
            })
              .then(() => {
                alert(
                  "Â¡CotizaciÃ³n enviada con Ã©xito! Nos pondremos en contacto contigo pronto."
                );
                form.reset();
              })
              .catch((error) => {
                console.error("Error al enviar el formulario:", error);
                alert(
                  "Hubo un error al enviar tu cotizaciÃ³n. Por favor, intÃ©ntalo de nuevo o contÃ¡ctanos por WhatsApp."
                );
              })
              .finally(() => {
                submitButton.disabled = false;
                submitButton.innerHTML = originalButtonText;
              });
          });
        }

        // ==========================================================================
        // ===  MANEJO DE LA CALCULADORA DE DIVISAS  ===
        // ==========================================================================
        const amountInput = document.getElementById("amount");
        const fromCurrencySelect = document.getElementById("fromCurrency");
        const toCurrencySelect = document.getElementById("toCurrency");
        const calculateBtn = document.getElementById("calculateBtn");
        const swapBtn = document.getElementById("swapBtn");
        const refreshBtn = document.getElementById("refreshRates");
        const resultAmount = document.getElementById("resultAmount");
        const exchangeRateDisplay = document.getElementById("exchangeRate");
        const lastUpdateDisplay = document.getElementById("lastUpdate");
        const loadingOverlay = document.getElementById("loadingOverlay");

        // Solo inicializar la calculadora si todos los elementos existen
        if (
          amountInput &&
          fromCurrencySelect &&
          toCurrencySelect &&
          calculateBtn &&
          swapBtn &&
          refreshBtn &&
          resultAmount &&
          exchangeRateDisplay &&
          lastUpdateDisplay &&
          loadingOverlay
        ) {
          let exchangeRates = {};

          async function fetchExchangeRates() {
            if (loadingOverlay) loadingOverlay.style.display = "flex";
            try {
              const response = await fetch(
                `${googleScriptURL}?action=getExchangeRates`
              );
              if (!response.ok) throw new Error("Error de red");

              const data = await response.json();
              if (data.status === "success" && data.rates) {
                exchangeRates = data.rates;
                if (lastUpdateDisplay) {
                  lastUpdateDisplay.textContent = `âœ“ Actualizado: ${new Date().toLocaleTimeString()}`;
                  lastUpdateDisplay.style.color = "#4caf50";
                }
                calculateConversion();
              } else {
                throw new Error(
                  data.message || "No se pudieron obtener las tasas."
                );
              }
            } catch (error) {
              console.error("Error al obtener tasas:", error);
              if (lastUpdateDisplay) {
                lastUpdateDisplay.textContent = "Error al actualizar tasas";
                lastUpdateDisplay.style.color = "#c60e0f";
              }
            } finally {
              if (loadingOverlay) loadingOverlay.style.display = "none";
            }
          }

          function calculateConversion() {
            const amount = parseFloat(amountInput.value) || 0;
            const from = fromCurrencySelect.value;
            const to = toCurrencySelect.value;

            if (amount <= 0 || !exchangeRates[from] || !exchangeRates[to]) {
              resultAmount.textContent = "$0.00";
              exchangeRateDisplay.textContent = "Ingresa un valor vÃ¡lido";
              return;
            }

            const rate = exchangeRates[to] / exchangeRates[from];
            const result = amount * rate;

            resultAmount.textContent = new Intl.NumberFormat("es-CO", {
              style: "currency",
              currency: to,
            }).format(result);
            exchangeRateDisplay.textContent = `1 ${from} = ${rate.toFixed(
              4
            )} ${to}`;
          }

          if (calculateBtn)
            calculateBtn.addEventListener("click", calculateConversion);
          if (swapBtn)
            swapBtn.addEventListener("click", () => {
              [fromCurrencySelect.value, toCurrencySelect.value] = [
                toCurrencySelect.value,
                fromCurrencySelect.value,
              ];
              calculateConversion();
            });
          if (refreshBtn)
            refreshBtn.addEventListener("click", fetchExchangeRates);
          if (amountInput)
            amountInput.addEventListener("input", calculateConversion);
          if (fromCurrencySelect)
            fromCurrencySelect.addEventListener("change", calculateConversion);
          if (toCurrencySelect)
            toCurrencySelect.addEventListener("change", calculateConversion);

          // Carga inicial de tasas
          fetchExchangeRates();
        }
      });
    </script>
    <script src="/js/scripts.js"></script>
    <script src="/js/formulario-cotizacion.js"></script>
  </body>
</html>
